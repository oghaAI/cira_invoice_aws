# CIRA Invoice AWS - Production Environment Configuration
# This template is for production environment using AWS RDS with high availability

# ============================================
# AWS Configuration
# ============================================
AWS_REGION=us-east-1
AWS_PROFILE=production

# CDK Configuration
CDK_DEFAULT_ACCOUNT=YOUR_AWS_ACCOUNT_ID
CDK_DEFAULT_REGION=us-east-1

# ============================================
# Database Configuration (RDS - Multi-AZ)
# ============================================
USE_EXTERNAL_DATABASE=false

# DATABASE_URL will be automatically retrieved from AWS Secrets Manager
# NEVER store production database credentials in .env files
DATABASE_URL=

# ============================================
# Azure OpenAI Configuration
# ============================================
# IMPORTANT: Store all production secrets in AWS Secrets Manager
# These should be referenced from Secrets Manager, not hardcoded here
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=

# ============================================
# Mistral Configuration (Optional)
# ============================================
MISTRAL_API_KEY=

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
LOG_LEVEL=warn

# ============================================
# Deployment Configuration
# ============================================
STACK_PREFIX=CiraInvoice
ENABLE_DELETION_PROTECTION=true
LOG_RETENTION_DAYS=30

# ============================================
# RDS Configuration (Production)
# ============================================
# High-performance instance class
DB_INSTANCE_CLASS=db.r5.large

# Allocated storage in GB
DB_ALLOCATED_STORAGE=100

# Enable Multi-AZ for 99.99% availability
DB_MULTI_AZ=true

# Backup retention period in days (compliance)
DB_BACKUP_RETENTION_DAYS=30

# ============================================
# Security & Compliance
# ============================================
# Enable CloudTrail logging
ENABLE_CLOUDTRAIL=true

# Enable VPC Flow Logs
ENABLE_VPC_FLOW_LOGS=true

# Enable enhanced monitoring for RDS
ENABLE_ENHANCED_MONITORING=true

# SNS Topic ARN for production alerts
SNS_ALERT_TOPIC_ARN=

# ============================================
# Production Notes
# ============================================
# 1. All secrets should be stored in AWS Secrets Manager
# 2. Use IAM roles for service-to-service authentication
# 3. Enable MFA for all AWS console access
# 4. Review and test backup/restore procedures regularly
# 5. Set up CloudWatch alarms for critical metrics
# 6. Document incident response procedures
